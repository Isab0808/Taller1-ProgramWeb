var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},a={},n=e.parcelRequire0c07;null==n&&((n=function(e){if(e in t)return t[e].exports;if(e in a){var n=a[e];delete a[e];var o={id:e,exports:{}};return t[e]=o,n.call(o.exports,o,o.exports),o.exports}var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,t){a[e]=t},e.parcelRequire0c07=n);var o=n("2mFfu"),i=n("1tHc5"),r=n("dKLxC"),c=n("aWEll"),l=n("3iQ2G");let d,s,u=!1;const f=document.getElementById("createProductForm");async function p(){if(s=function(e){const t=window.location.search;return new URLSearchParams(t).get(e)}("id"),s){u=!0;!function(e){f.name.value=e.name,f.description.value=e.description,f.price.value=e.price,f.category.value=e.category}({...await r.getProduct(s),id:s})}}f.addEventListener("submit",(async e=>{e.preventDefault(),console.log("Create a new product");const t=f.name.value,a=f.description.value,n=f.price.value,i=f.category.value,r=f.images.files;let l=[];if(r.length){const e=await c.uploadImages(o.storage,[...r]);l=await Promise.all(e)}const d={name:t,description:a,price:n,category:i,images:l};console.log(d),u?await c.editProduct(o.db,d,s):await c.addProduct(o.db,d)})),i.onAuthStateChanged(o.auth,(async e=>{e&&l.getUser(e.uid).then((e=>{d=e,d.isAdmin?p():window.location.href="shop.html"}))}));
//# sourceMappingURL=createProduct.50cb08e3.js.map
