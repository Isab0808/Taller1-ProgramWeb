var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},n={},r=e.parcelRequire0c07;null==r&&((r=function(e){if(e in t)return t[e].exports;if(e in n){var r=n[e];delete n[e];var a={id:e,exports:{}};return t[e]=a,r.call(a.exports,a,a.exports),a.exports}var c=new Error("Cannot find module '"+e+"'");throw c.code="MODULE_NOT_FOUND",c}).register=function(e,t){n[e]=t},e.parcelRequire0c07=r);var a=r("2mFfu"),c=r("1tHc5"),o=(a=r("2mFfu"),r("etBjH"));var d=r("1ZESu"),i=r("7Jg0N");const s=document.getElementById("productInfo"),u=document.getElementById("productAssets");let l,p=[];async function m(){const e=function(e){const t=window.location.search;return new URLSearchParams(t).get(e)}("id");!function(e){u.innerHTML=`\n    <img class="product__mainImage" id="mainImage" src="${e.images[0]}">`;const t=p.some((t=>t.id===e.id))?'<button class="product__cart" disabled>Producto añadido</button>':'<button class="product__cart">Añadir al carrito</button>';s.innerHTML=`\n    <h1 class="product__name">${e.name}</h1>\n    <p class="product__description">${e.description}</p>\n    <h3 class="product__price">${i.currencyFormat(e.price)}</h3>\n    ${t}`,e.images.length>1&&function(e){const t=document.getElementById("mainImage"),n=document.createElement("div");n.className="product__gallery",e.forEach((e=>{n.innerHTML+=`<img src="${e}">`})),u.appendChild(n);document.querySelector(".product__gallery").addEventListener("click",(e=>{"IMG"===e.target.tagName&&t.setAttribute("src",e.target.currentSrc)}))}(e.images);const n=document.querySelector(".product__cart");n.addEventListener("click",(t=>{p.push(e),i.addProductToCart(p),l&&d.createFirebaseCart(a.db,l.uid,p),n.setAttribute("disabled",!0),n.innerText="Producto añadido"}))}({...await async function(e){const t=o.doc(a.db,"products",e);try{return(await o.getDoc(t)).data()}catch(e){console.log(e)}}(e),id:e})}c.onAuthStateChanged(a.auth,(async e=>{e?(l=e,p=await d.getFirebaseCart(a.db,l.uid),console.log(p)):p=i.getMyLocalCart(),m()}));
//# sourceMappingURL=product.c4e7e878.js.map
