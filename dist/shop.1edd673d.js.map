{"mappings":"+uBAAA,IAAAA,EAAAC,EAAA,sBAGAC,eAAeC,EAAWC,EAAIC,GAC1B,UACUL,EAAAM,OAAON,EAAAO,WAAWH,EAAI,YAAaC,GACzCG,QAAQC,IAAI,qBACd,MAAMC,GACJF,QAAQC,IAAIC,IAIpBR,eAAeS,EAAYP,EAAIC,EAASO,GACpC,IACI,MAAMC,EAAYb,EAAAc,IAAIV,EAAI,WAAYQ,SAGhCZ,EAAAe,UAAUF,EAAWR,GAC7B,MAAOW,GACLR,QAAQC,IAAIO,IAIpBd,eAAee,EAAcb,EAAGQ,SAEtBZ,EAAAkB,UAAUlB,EAAAc,IAAIV,EAAI,WAAYQ,IAQxCV,eAAeiB,EAAaC,EAASC,EAAS,IAO1C,OANuBA,EAAOC,KAAKpB,MAAOqB,IACtC,MAAMC,QAPdtB,eAAoCkB,EAASG,GACzC,MAAME,EAAaC,EAAAC,IAAIP,EAAS,mBAAmBG,EAAMK,QACzD,aAAaF,EAAAG,YAAYJ,EAAYF,GAKJO,CAAqBV,EAASG,GAE3D,OAAOG,EAAAK,eAAeL,EAAAC,IAAIP,EAASI,EAAeG,IAAIK","sources":["scripts/addProduct.js"],"sourcesContent":["import { addDoc, updateDoc, deleteDoc, collection, doc } from \"firebase/firestore\";\r\nimport { ref, uploadBytes, getDownloadURL} from \"firebase/storage\";\r\n\r\nasync function addProduct(db, product) {\r\n    try {\r\n        await addDoc(collection(db, \"products\"), product);\r\n        console.log(\"Product added! :)\");\r\n    } catch(e) {\r\n        console.log(e);\r\n    }\r\n}\r\n\r\nasync function editProduct(db, product, id) {\r\n    try {\r\n        const updateRef = doc(db, \"products\", id);\r\n\r\n        // Set the \"capital\" field of the city 'DC'\r\n        await updateDoc(updateRef, product);\r\n    } catch (error) {\r\n        console.log(error);\r\n    }\r\n}\r\n\r\nasync function removeProduct(db,id) {\r\n    \r\n    await deleteDoc(doc(db, \"products\", id));\r\n}\r\n\r\nasync function imageUploadReference(storage, image) {\r\n    const storageRef = ref(storage, `products/images/${image.name}`);\r\n    return await uploadBytes(storageRef, image);\r\n}\r\n\r\nasync function uploadImages(storage, images = []) {\r\n    const uploadedImages = images.map( async (image) => {\r\n        const imageReference = await imageUploadReference(storage, image);\r\n\r\n        return getDownloadURL(ref(storage, imageReference.ref.fullPath));\r\n    });\r\n\r\n    return uploadedImages;\r\n\r\n}\r\n\r\nexport {\r\n    addProduct,\r\n    editProduct,\r\n    removeProduct,\r\n    uploadImages\r\n}"],"names":["$etBjH","parcelRequire","async","$7f7e9d7920b9c3df$export$7caf006d7b64ee15","db","product","addDoc","collection","console","log","e","$7f7e9d7920b9c3df$export$ffb156fa15e8d023","id","updateRef","doc","updateDoc","error","$7f7e9d7920b9c3df$export$86a330d9a979afdd","deleteDoc","$7f7e9d7920b9c3df$export$633f5b6169e2b910","storage","images","map","image","imageReference","storageRef","$aYguL","ref","name","uploadBytes","$7f7e9d7920b9c3df$var$imageUploadReference","getDownloadURL","fullPath"],"version":3,"file":"shop.1edd673d.js.map"}