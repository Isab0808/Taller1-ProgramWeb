var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},n={},a=e.parcelRequire0c07;null==a&&((a=function(e){if(e in t)return t[e].exports;if(e in n){var a=n[e];delete n[e];var r={id:e,exports:{}};return t[e]=r,a.call(r.exports,r,r.exports),r.exports}var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,t){n[e]=t},e.parcelRequire0c07=a);var r=a("2mFfu"),o=a("1tHc5"),c=a("1ZESu"),d=a("7Jg0N");d=a("7Jg0N");const s=document.getElementById("cart"),l=document.getElementById("total");let u=[],i=0;const m=document.getElementById("paymentForm");function g(e){e.forEach((e=>{!function(e){const t=document.createElement("li");let n=1;t.className="product",t.innerHTML=`\n    <button class="product__delete">X</button>\n    <img src="${e.images[0]}" class="product__image">\n    <h2 class="product__name">${e.name}</h2>\n    <div class="counter">\n        <button class="remove__item"><</button>\n        <p id="amount_${e.name}" class="counter__text">${n}</p>\n        <button class="add__item">></button>\n    </div>\n    <h3 class="product__price">${d.currencyFormat(e.price)}</h3>\n    \n    `,s.appendChild(t),t.addEventListener("click",(t=>{"BUTTON"===t.target.tagName&&"product__delete"===t.target.className&&(console.log("remove it!"),async function(e){const t=u.filter((t=>t.id!==e));u=t,d.addProductToCart(t),s.innerHTML="",g(t)}(e.id)),"BUTTON"===t.target.tagName&&"remove__item"===t.target.className&&(n-=1,t.target.className(`amount_${e.name}`).innerHTML=n,document.getElementById(`amount_${e.name}`).innerHTML=n),"BUTTON"===t.target.tagName&&"add__item"===t.target.className&&(n+=1,console.log(n),document.getElementById(`amount_${e.name}`).innerHTML=n)}))}(e),i+=parseInt(e.price)})),l.innerText=d.currencyFormat(i)}m.addEventListener("submit",(async e=>{e.preventDefault();const t={name:m.name.value,lastname:m.lastname.value,country:m.country.value,town:m.town.value,address:m.address.value,card:m.card.value,card_number:m.card_number.value};userLogged?(await c.createFirebaseCart(r.db,userLogged.uid,u,i,t),u=[],s.innerHTML="",g(u)):alert("inicia sesiÃ³n :(")})),o.onAuthStateChanged(r.auth,(async e=>{e?(userLogged=e,u=d.getMyLocalCart()):u=d.getMyLocalCart(),g(u)}));
//# sourceMappingURL=cart.844fb0d1.js.map
